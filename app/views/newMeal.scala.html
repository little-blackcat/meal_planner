@(productMealForm: Form[ProductMeal], products: List[Product])

@import helper._
@import helper.twitterBootstrap._

@title = {
    Sign Up
}

@main(title, nav = "signup") {

    <datalist id="products">
        @for(product <- products) {
            <option value="@product.name"></option>
        }
    </datalist>
    
    <script type="text/javascript">
        var products_list = {};
         @for(product <- products) {
             products_list["@product.name"] = 
             {
                 'calories': @product.caloriesPer100Grams,
                 'carb': @product.carbPer100Grams,
                 'fat': @product.fatPer100Grams,
                 'protein': @product.proteinPer100Grams,
                 'sugar': @product.sugarPer100Grams
             };
        }
    </script>

    <script type="text/javascript">
        var user = @session.get("username");
        alert(user);
    </script>

    <script type="text/javascript">
    function aaa() {
        var table = document.getElementById("meals-table");
        for(var i=2; i<=table.rows.length; i++){
            var productName = table.rows[i].cells[0].childNodes[0].value;
            var mealWeight = table.rows[i].cells[1].childNodes[0].value;
                //new ProductMeal(user, product po nazwie, mealweight, current data).save();
            alert('productName: '+ productName+ ' mealweight: '+ mealWeight);
            }
        }
    </script>
    
    <div class="row margin-bottom-2">

        <div class="col-md-offset-10 col-md-2">
            <a class="btn btn-success" id="add" onclick="addRow()">Add a new product</a>
        </div>

    </div>
    
        
        <table class="table table-striped" id="meals-table">
            <thead style="font-weight:bold">
                <tr>
                    <th>Product name</th>
                    <th>Quantity</th>
                    <th>Calories</th>
                    <th>Carb</th>
                    <th>Fat</th>
                    <th>Protein</th>
                    <th>Sugar</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                    <td>X</td>
                    <td>X</td>
                    <td>X</td>
                    <td>X</td>
                    <td>X</td>
                    <td>X</td>
                    <td>X</td>
                    <td></td>
                    <td></td>
            </tbody>
        </table>
}

            